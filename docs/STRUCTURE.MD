# MS MARCO Search Engine - Project Structure

This document outlines the directory structure and the purpose of all key files for the Week 2 Two-Tower Search Engine project by **Team Perceptron Party**.

```
.
├── config.yaml              # ⚙️ Central configuration (paths, hyperparameters for W2)
├── data/                    # 📊 Input data
│   └── msmarco/             # MS MARCO specific data (needs population)
├── docs/                    # 📄 Project documentation
│   ├── STRUCTURE.md         # This file (project structure and file descriptions)
│   └── DEV_PLAN_W2.md       # Week 2 Development Plan & Tasks
├── logs/                    # 📝 Runtime logs (Gitignored)
├── models/                  # 🧠 Saved model artifacts (Gitignored)
│   └── two_tower/           # Run-specific subdirs for the Two-Tower model
│       └── .../             # Example run directory (named per run)
│           ├── two_tower_final.pth      # Final model weights
│           ├── training_losses.json     # Training loss history
│           └── training_loss.png        # Training loss plot
├── notebooks/               # 📓 Jupyter notebooks for exploration & evaluation
│   └── (add EDA/evaluation notebooks as needed)
├── requirements.txt         # 📦 Python package dependencies
├── scripts/                 # ▶️ Runnable scripts
│   ├── train_two_tower.py   # Main script to train the Two-Tower model
│   ├── evaluate_two_tower.py# Script to evaluate the trained model
│   └── train_word2vec.py    # Script to train Word2Vec (Week 1, reused)
├── setup_project.py         # Script to generate the initial project structure
├── src/                     # 🐍 Core Python source code modules
│   ├── __init__.py          # Makes src a Python package
│   └── two_tower/           # ✨ Two-Tower implementation modules
│       ├── __init__.py
│       ├── dataset.py       # MS MARCO data loading, triplet generation, Dataset/Collation
│       ├── model.py         # Two-Tower model definition (Embeddings, RNN Towers)
│       └── trainer.py       # Training loop logic with Triplet Loss
├── utils/                   # 🛠️ Shared utility modules
│   ├── __init__.py
│   ├── device_setup.py      # CPU/MPS/CUDA device selection
│   ├── logging.py           # Logging setup
│   └── run_utils.py         # Config loading, artifact saving helpers
├── .gitignore               # Files/directories for Git to ignore
├── README.md                # 👋 High-level project overview
├── LICENSE                  # Project license (MIT)
└── wandb/                   # ☁️ Local W&B logs/cache (In .gitignore)
    └── ...
```

**Directory & Key File Purposes:**

*   **`config.yaml`** ⚙️: Central configuration for all paths, hyperparameters, and logging settings for both Word2Vec and Two-Tower models.
*   **`data/msmarco/`** 📊: Location for the MS MARCO dataset files (to be downloaded/placed here).
*   **`docs/`** 📄: Project documentation, including this structure file and the development plan.
*   **`logs/`** 📝: Runtime logs generated by scripts (should be gitignored).
*   **`models/two_tower/`** 🧠: Stores run-specific subdirectories with trained model weights, loss history, and plots (should be gitignored).
*   **`notebooks/`** 📓: Jupyter notebooks for EDA, evaluation, or prototyping (add as needed).
*   **`requirements.txt`** 📦: All Python dependencies for the project (including torch, pandas, scikit-learn, PyYAML, wandb, etc.).
*   **`scripts/`** ▶️: Main runnable scripts:
    * `train_two_tower.py`: Trains the Two-Tower model using config and utils.
    * `evaluate_two_tower.py`: Evaluates the trained model (metrics, retrieval, etc.).
    * `train_word2vec.py`: Trains Word2Vec (from Week 1, reused for embedding preparation).
*   **`setup_project.py`**: Script to generate the initial directory structure and template files.
*   **`src/`** 🐍: Core Python source code:
    * `__init__.py`: Makes `src` a package.
    * `two_tower/`: Implementation of the Two-Tower model:
        * `__init__.py`: Package init.
        * `dataset.py`: Data loading, triplet generation, PyTorch Dataset and collation.
        * `model.py`: Two-Tower model definition (embedding, RNN towers, forward pass).
        * `trainer.py`: Training loop and Triplet Loss logic.
*   **`utils/`** 🛠️: Shared utilities:
    * `__init__.py`: Package init, imports helpers.
    * `device_setup.py`: Device selection (CPU/MPS/CUDA).
    * `logging.py`: Logging setup and configuration.
    * `run_utils.py`: Config loading, artifact saving, plotting helpers.
*   **`.gitignore`**: Ensures logs, models, wandb, venv, and other non-source files are not tracked by git.
*   **`README.md`** 👋: High-level project overview, setup, and usage instructions.
*   **`LICENSE`**: Project license (MIT).
*   **`wandb/`** ☁️: Local Weights & Biases logs/cache (should be gitignored).
