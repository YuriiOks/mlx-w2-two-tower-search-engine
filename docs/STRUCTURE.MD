# MS MARCO Search Engine - Project Structure

This document outlines the directory structure and the purpose of all key files for the Week 2 Two-Tower Search Engine project by **Team Perceptron Party**.

```
.
â”œâ”€â”€ config.yaml              # âš™ï¸ Central configuration (paths, hyperparameters for W2)
â”œâ”€â”€ data/                    # ğŸ“Š Input data
â”‚   â””â”€â”€ msmarco/             # MS MARCO specific data (needs population)
â”œâ”€â”€ docs/                    # ğŸ“„ Project documentation
â”‚   â”œâ”€â”€ STRUCTURE.md         # This file (project structure and file descriptions)
â”‚   â””â”€â”€ DEV_PLAN_W2.md       # Week 2 Development Plan & Tasks
â”œâ”€â”€ logs/                    # ğŸ“ Runtime logs (Gitignored)
â”œâ”€â”€ models/                  # ğŸ§  Saved model artifacts (Gitignored)
â”‚   â””â”€â”€ two_tower/           # Run-specific subdirs for the Two-Tower model
â”‚       â””â”€â”€ .../             # Example run directory (named per run)
â”‚           â”œâ”€â”€ two_tower_final.pth      # Final model weights
â”‚           â”œâ”€â”€ training_losses.json     # Training loss history
â”‚           â””â”€â”€ training_loss.png        # Training loss plot
â”œâ”€â”€ notebooks/               # ğŸ““ Jupyter notebooks for exploration & evaluation
â”‚   â””â”€â”€ (add EDA/evaluation notebooks as needed)
â”œâ”€â”€ requirements.txt         # ğŸ“¦ Python package dependencies
â”œâ”€â”€ scripts/                 # â–¶ï¸ Runnable scripts
â”‚   â”œâ”€â”€ train_two_tower.py   # Main script to train the Two-Tower model
â”‚   â”œâ”€â”€ evaluate_two_tower.py# Script to evaluate the trained model
â”‚   â””â”€â”€ train_word2vec.py    # Script to train Word2Vec (Week 1, reused)
â”œâ”€â”€ setup_project.py         # Script to generate the initial project structure
â”œâ”€â”€ src/                     # ğŸ Core Python source code modules
â”‚   â”œâ”€â”€ __init__.py          # Makes src a Python package
â”‚   â””â”€â”€ two_tower/           # âœ¨ Two-Tower implementation modules
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ dataset.py       # MS MARCO data loading, triplet generation, Dataset/Collation
â”‚       â”œâ”€â”€ model.py         # Two-Tower model definition (Embeddings, RNN Towers)
â”‚       â””â”€â”€ trainer.py       # Training loop logic with Triplet Loss
â”œâ”€â”€ utils/                   # ğŸ› ï¸ Shared utility modules
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ device_setup.py      # CPU/MPS/CUDA device selection
â”‚   â”œâ”€â”€ logging.py           # Logging setup
â”‚   â””â”€â”€ run_utils.py         # Config loading, artifact saving helpers
â”œâ”€â”€ .gitignore               # Files/directories for Git to ignore
â”œâ”€â”€ README.md                # ğŸ‘‹ High-level project overview
â”œâ”€â”€ LICENSE                  # Project license (MIT)
â””â”€â”€ wandb/                   # â˜ï¸ Local W&B logs/cache (In .gitignore)
    â””â”€â”€ ...
```

**Directory & Key File Purposes:**

*   **`config.yaml`** âš™ï¸: Central configuration for all paths, hyperparameters, and logging settings for both Word2Vec and Two-Tower models.
*   **`data/msmarco/`** ğŸ“Š: Location for the MS MARCO dataset files (to be downloaded/placed here).
*   **`docs/`** ğŸ“„: Project documentation, including this structure file and the development plan.
*   **`logs/`** ğŸ“: Runtime logs generated by scripts (should be gitignored).
*   **`models/two_tower/`** ğŸ§ : Stores run-specific subdirectories with trained model weights, loss history, and plots (should be gitignored).
*   **`notebooks/`** ğŸ““: Jupyter notebooks for EDA, evaluation, or prototyping (add as needed).
*   **`requirements.txt`** ğŸ“¦: All Python dependencies for the project (including torch, pandas, scikit-learn, PyYAML, wandb, etc.).
*   **`scripts/`** â–¶ï¸: Main runnable scripts:
    * `train_two_tower.py`: Trains the Two-Tower model using config and utils.
    * `evaluate_two_tower.py`: Evaluates the trained model (metrics, retrieval, etc.).
    * `train_word2vec.py`: Trains Word2Vec (from Week 1, reused for embedding preparation).
*   **`setup_project.py`**: Script to generate the initial directory structure and template files.
*   **`src/`** ğŸ: Core Python source code:
    * `__init__.py`: Makes `src` a package.
    * `two_tower/`: Implementation of the Two-Tower model:
        * `__init__.py`: Package init.
        * `dataset.py`: Data loading, triplet generation, PyTorch Dataset and collation.
        * `model.py`: Two-Tower model definition (embedding, RNN towers, forward pass).
        * `trainer.py`: Training loop and Triplet Loss logic.
*   **`utils/`** ğŸ› ï¸: Shared utilities:
    * `__init__.py`: Package init, imports helpers.
    * `device_setup.py`: Device selection (CPU/MPS/CUDA).
    * `logging.py`: Logging setup and configuration.
    * `run_utils.py`: Config loading, artifact saving, plotting helpers.
*   **`.gitignore`**: Ensures logs, models, wandb, venv, and other non-source files are not tracked by git.
*   **`README.md`** ğŸ‘‹: High-level project overview, setup, and usage instructions.
*   **`LICENSE`**: Project license (MIT).
*   **`wandb/`** â˜ï¸: Local Weights & Biases logs/cache (should be gitignored).
